<!-- templates/index.html -->
{% extends "base.html" %}

{% block content %}
<h2 class="text-2xl font-semibold text-gray-800 mb-6">Your Tasks</h2>

<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
  {% for task in tasks %}
  <div class="bg-white p-6 rounded-lg shadow hover:shadow-md transition border-l-4
              {% if task[4] %}border-green-500{% else %}border-blue-500{% endif %}">
    <h3 class="text-lg font-medium text-gray-900">{{ task[1] }}</h3>
    <p class="text-gray-600 mt-1 text-sm">{{ task[2] or 'No description' }}</p>
    <p class="text-xs text-gray-500 mt-2">Due: {{ task[3] or 'No date' }}</p>
    <div class="mt-4 flex space-x-2">
      <a href="{{ url_for('edit', id=task[0]) }}"
         class="text-indigo-600 hover:text-indigo-800 text-sm font-medium">Edit</a>
      <form method="POST" action="{{ url_for('delete', id=task[0]) }}" class="inline">
        <button type="submit"
                class="text-red-600 hover:text-red-800 text-sm font-medium"
                onclick="return confirm('Delete this task?')">
          Delete
        </button>
      </form>
      <span class="ml-auto text-xs font-semibold
                   {% if task[4] %}text-green-600{% else %}text-blue-600{% endif %}">
        {{ 'Completed' if task[4] else 'Pending' }}
      </span>
    </div>
  </div>
  {% else %}
  <p class="text-gray-500">No tasks yet. <a href="{{ url_for('create') }}" class="text-indigo-600">Add one</a>.</p>
  {% endfor %}
</div>
{% endblock %}